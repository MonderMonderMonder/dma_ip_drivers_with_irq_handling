This repository is a fork of the [Xilinx/dma_ip_drivers](https://github.com/Xilinx/dma_ip_drivers) repository, licensed under the Apache License Version 2.0. It extends the QDMA driver functionality to handle interrupts generated by our OpenNIC Shell extension [MonderMonderMonder/open-nic-shell-irqgen](https://github.com/MonderMonderMonder/open-nic-shell-irqgen), a fork of the a fork of the [Xilinx OpenNIC Shell repository](https://github.com/Xilinx/open-nic-shell). It aims at achieving ultra-low-latency notifications to the host for adaptive data processing, through an interface between the QDMA interrupt generation module and the host Linux kernel.

### Modifications

1. `qdma_intr.c`: implements the main interrupt handling functionality, configures IRQ affinity of the available interrupt vectors, and provides responsive ISRs with configurable Bottom Half mechanisms (Tasklet, Threaded Handler and Workqueue), balancing low-latency requirements with Linux kernel constraints.
  
2. `QDMA/linux-kernel/latency_measurements/irq_mmr.c`: main routine for interrupt latency measurement in accordance with the [Shell interrupt generation module](https://github.com/MonderMonderMonder/open-nic-shell-irqgen?tab=readme-ov-file#latency-measurement). It sets the memory-mapped registers that control the interrupt generation and hardware timestamping to achieve one precise latency measurement. The `QDMA/linux-kernel/latency_measurements/automated_stress.sh` script interates over it and produces one million latency measurements with nanosecond precision under various system loads. 

### Context and Objectives

This extension aims to enable high-performance servers to adapt to dynamic traffic conditions signaled by interrupts in near real-time, enhancing processing throughput for emerging 6G network applications.
It aims to provide a baseline for further optimizations aimed at handling high-throughput network applications with dynamic response requirements.
